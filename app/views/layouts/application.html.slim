! doctype html
html
  head
    =render :partial => 'layouts/header'
    meta name="keywords" content="web apps"
    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21318559-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

  body
    #container
      =render :partial => 'layouts/title'
      #content
        = flash_messages.html_safe
        = yield
      #sidebar
        #sidebar-inner
          =render :partial => 'layouts/main_sidebar'
          =render :partial => 'layouts/github_sidebar'
      = render :partial => 'layouts/slideshow' 
    = include_javascripts :application
    javascript:
      $(function(){
        var content_height = $("#container").outerHeight(); 
        var window_height = $(window).height();
        var total_height = 0;
        if(content_height > window_height){
          total_height = content_height;
        }else{
          total_height = window_height;
        }
        if($("#sidebar-inner").outerHeight() < total_height){
          $("#sidebar-inner").height(total_height + 5 );
        }
      });
